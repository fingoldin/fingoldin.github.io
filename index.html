<!DOCTYPE html>

<head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="/jsPsych/jspsych.js"></script>
<script src="/jsPsych/plugins/jspsych-text.js"></script>
<script src="/jsPsych/plugins/jspsych-html.js"></script>
<script src="/jsPsych/plugins/jspsych-animation.js"></script>
<script src="/jsPsych/plugins/jspsych-number-animation.js"></script>
<script src="/jsPsych/plugins/jspsych-html-animation.js"></script>
<script src="/jsPsych/plugins/jspsych-bar-choose.js"></script>
<script src="/jsPsych/plugins/jspsych-ticket-choose.js"></script>
<script src="/utils/general.js"></script>
<script src="/utils/bar-choose-plugin.js"></script>
<script src="/utils/jquery.transform2d.js"></script>
<link href="/jsPsych/css/jspsych.css" rel="stylesheet" type="text/css"></link>
<link href="/utils/general.css" rel="stylesheet" type="text/css"></link>
<link href="/utils/bar-choose-plugin.css" rel="stylesheet" type="text/css"></link>
<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
<link href="/utils/consent.css" rel="stylesheet" type="text/css"></link>
<link href="/utils/ticket-choose.css" rel="stylesheet" type="text/css"></link>
<link href="/utils/start.css" rel="stylesheet" type="text/css"></link>

<script type="text/javascript">

var consent_trial = {
	type: "html",	
	url: "/utils/consent.html",
	cont_btn: "agree2"
}

var instructions_trial = {
	type: "html",
	url: "/utils/instructions.html",
	cont_btn: "continue1"
}

var start_trial = {
	type: "html",
	url: "/utils/start.html",
	cont_btn: "start1"
}

var mean = 75;
var variance = 40;
var num = 10;
var min = 50;
var max = 100;
var animdata = new GAnimData(mean, variance, min, max, num);
		//new GAnimData2(50, 150, 20, 0.3);

var animation_trial = {
	type: "number-animation",
	prefix: "$",
	stimuli: animdata.data,
	frame_time: 2000,
	sequence_reps: 1
}

var training_trial = {
	type: "bar-choose",
	instructions: "Based on the ticket prices you have seen, what are your predictions for the next 20 tickets?",
	subtitle: "Please drag the bar or type in the input field to determine the amount of tickets that are in the equivalent price range for this trip. Press continue when you are sure of your answers.",
	categories: ["$50 - $60", "$60 - $70", "$70 - $80", "$80 - $90", "$90 - $100"],
	min_val: 0,
	max_val: num
}

var testing_trials_num = 4;

var testing_instructions_trial = {
	type: "html",
        url: "/utils/testing.html",
        cont_btn: "testingstart",
}

var images = ["https://s-media-cache-ak0.pinimg.com/originals/3d/f3/33/3df333457997359bc72e33b68900aaff.jpg"];

function init()
{
	var timeline = [];

	timeline.push(consent_trial);
        timeline.push(instructions_trial);
        timeline.push(start_trial);
        timeline.push(animation_trial);
        timeline.push(training_trial);
        timeline.push(testing_instructions_trial);

	for(var i = 0; i < testing_trials_num-1; i++)
	{
        	timeline.push({ type: "ticket-choose",
               		                prices: [12, 14, 16, 4], 
                        	        continue_message: "Next sequence"
        	});
	}
	timeline.push({ type: "ticket-choose", prices: [10, 15, 12, 17, 18], continue_message: "Finish" });

	jsPsych.pluginAPI.preloadImages(images, function() {
		jsPsych.init({
			timeline: timeline
		});
	});
}

</script>

</head>

<body onload="init()">

</body>

</html>
